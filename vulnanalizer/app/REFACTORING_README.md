# üîÑ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ VulnAnalizer

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –±—ã–ª —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–¥–∞. –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª `main.py` (1524 —Å—Ç—Ä–æ–∫–∏) –±—ã–ª —Ä–∞–∑–±–∏—Ç –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É.

## üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
vulnanalizer/app/
‚îú‚îÄ‚îÄ main.py                    # –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª (1524 —Å—Ç—Ä–æ–∫–∏) - –ë–£–î–ï–¢ –ó–ê–ú–ï–ù–ï–ù
‚îú‚îÄ‚îÄ main_new.py                # –ù–æ–≤—ã–π –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª (62 —Å—Ç—Ä–æ–∫–∏)
‚îú‚îÄ‚îÄ utils/                     # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ file_utils.py          # –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ (split, extract, parse)
‚îÇ   ‚îú‚îÄ‚îÄ progress_utils.py      # –£—Ç–∏–ª–∏—Ç—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ validation_utils.py    # –í–∞–ª–∏–¥–∞—Ü–∏—è (IP, –¥–∞—Ç—ã)
‚îú‚îÄ‚îÄ models/                    # Pydantic –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ user_models.py         # –ú–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ services/                  # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ auth_service.py        # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ JWT
‚îÇ   ‚îú‚îÄ‚îÄ risk_service.py        # –†–∞—Å—á–µ—Ç —Ä–∏—Å–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ excel_service.py       # –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
‚îî‚îÄ‚îÄ routes/                    # API —Ä–æ—É—Ç—ã
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ hosts.py               # –†–æ—É—Ç—ã —Ö–æ—Å—Ç–æ–≤ (413 —Å—Ç—Ä–æ–∫)
    ‚îú‚îÄ‚îÄ epss.py                # –†–æ—É—Ç—ã EPSS (119 —Å—Ç—Ä–æ–∫)
    ‚îú‚îÄ‚îÄ exploitdb.py           # –†–æ—É—Ç—ã ExploitDB (119 —Å—Ç—Ä–æ–∫)
    ‚îú‚îÄ‚îÄ vm.py                  # –†–æ—É—Ç—ã VM MaxPatrol (110 —Å—Ç—Ä–æ–∫)
    ‚îú‚îÄ‚îÄ users.py               # –†–æ—É—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (313 —Å—Ç—Ä–æ–∫)
    ‚îî‚îÄ‚îÄ system.py              # –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–æ—É—Ç—ã (116 —Å—Ç—Ä–æ–∫)
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

| –ú–æ–¥—É–ª—å | –°—Ç—Ä–æ–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-------|----------|
| `main.py` (—Å—Ç–∞—Ä—ã–π) | 1524 | –ò—Å—Ö–æ–¥–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π —Ñ–∞–π–ª |
| `main_new.py` | 62 | –ù–æ–≤—ã–π –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª |
| `routes/hosts.py` | 413 | –†–æ—É—Ç—ã —Ö–æ—Å—Ç–æ–≤ |
| `routes/users.py` | 313 | –†–æ—É—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| `routes/system.py` | 116 | –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–æ—É—Ç—ã |
| `routes/epss.py` | 119 | –†–æ—É—Ç—ã EPSS |
| `routes/exploitdb.py` | 119 | –†–æ—É—Ç—ã ExploitDB |
| `routes/vm.py` | 110 | –†–æ—É—Ç—ã VM MaxPatrol |
| `utils/file_utils.py` | 112 | –£—Ç–∏–ª–∏—Ç—ã —Ñ–∞–π–ª–æ–≤ |
| `utils/progress_utils.py` | 89 | –£—Ç–∏–ª–∏—Ç—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ |
| `utils/validation_utils.py` | 55 | –£—Ç–∏–ª–∏—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ |
| `services/auth_service.py` | 47 | –°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| `services/risk_service.py` | 58 | –°–µ—Ä–≤–∏—Å —Ä–∞—Å—á–µ—Ç–∞ —Ä–∏—Å–∫–æ–≤ |
| `services/excel_service.py` | 67 | –°–µ—Ä–≤–∏—Å Excel |
| `models/user_models.py` | 25 | –ú–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |

**–ò—Ç–æ–≥–æ:** 16 –º–æ–¥—É–ª–µ–π –≤–º–µ—Å—Ç–æ 1 –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –õ–µ–≥—á–µ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π –∫–æ–¥
- –ú–µ–Ω—å—à–µ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

### ‚úÖ –õ—É—á—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ
- –õ–µ–≥—á–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ü—Ä–æ—â–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

### ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- –£—Ç–∏–ª–∏—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö
- –°–µ—Ä–≤–∏—Å—ã –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã

### ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–æ—É—Ç—ã
- –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É

### 1. –ó–∞–º–µ–Ω–∞ –≥–ª–∞–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
cp main.py main_old.py

# –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω–æ–≤—ã–π —Ñ–∞–π–ª
cp main_new.py main.py
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down
docker-compose up -d --build
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
curl -k https://localhost/vulnanalizer/api/version
curl -k https://localhost/vulnanalizer/api/health
```

## üìù –ú–∏–≥—Ä–∞—Ü–∏—è

### –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π ‚úÖ
- [x] –°–æ–∑–¥–∞–Ω—ã –≤—Å–µ –º–æ–¥—É–ª–∏
- [x] –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∏–∑ main.py
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã

### –≠—Ç–∞–ø 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

### –≠—Ç–∞–ø 3: –ó–∞–º–µ–Ω–∞ —Ñ–∞–π–ª–∞
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
- [ ] –ó–∞–º–µ–Ω–∞ main.py –Ω–∞ main_new.py
- [ ] –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å docstrings –≤ –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å
3. **–¢–µ—Å—Ç—ã**: –°–æ–∑–¥–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –í–æ–∑–º–æ–∂–Ω—ã–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∏:
- –í—ã–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
- –°–æ–∑–¥–∞–Ω–∏–µ middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

**–ê–≤—Ç–æ—Ä —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:** AI Assistant  
**–î–∞—Ç–∞:** 2024-01-01  
**–í–µ—Ä—Å–∏—è:** 0.2.0004
