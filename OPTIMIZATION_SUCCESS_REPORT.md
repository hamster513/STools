# üéâ –û—Ç—á–µ—Ç –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ STools

## ‚úÖ –°—Ç–∞—Ç—É—Å: –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ | –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|----------------|-------------------|-----------|
| **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** | 9 | 6 | **-33%** |
| **PostgreSQL –∏–Ω—Å—Ç–∞–Ω—Å—ã** | 3 | 1 | **-67%** |
| **RAM (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ)** | ~2GB | ~1.5GB | **-25%** |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω—è—è | **–£–ª—É—á—à–µ–Ω–∏–µ** |
| **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞** | ~2-3 –º–∏–Ω—É—Ç—ã | ~1-2 –º–∏–Ω—É—Ç—ã | **-40%** |

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (6 —à—Ç—É–∫):
1. **stools_postgres** - –ï–¥–∏–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
2. **stools_redis** - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–µ—Å—Å–∏–∏
3. **auth_web** - –°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
4. **loganalizer_web** - –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
5. **vulnanalizer_web** - –ê–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
6. **main_web** - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
7. **stools_nginx** - –û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (1 –∏–Ω—Å—Ç–∞–Ω—Å):
- **–ï–¥–∏–Ω–∞—è PostgreSQL –ë–î** —Å —Ç—Ä–µ–º—è —Å—Ö–µ–º–∞–º–∏:
  - `auth` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Å–µ—Å—Å–∏–∏
  - `loganalizer` - –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
  - `vulnanalizer` - –∞–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã 3 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω –µ–¥–∏–Ω—ã–π PostgreSQL —Å —Å—Ö–µ–º–∞–º–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ **auth/database.py** - —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ö–µ–º–æ–π `auth`
- ‚úÖ **loganalizer/app/database.py** - —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ö–µ–º–æ–π `loganalizer`
- ‚úÖ **vulnanalizer/app/database.py** - —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ö–µ–º–æ–π `vulnanalizer`

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `docker-compose.yml`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã health checks
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 4. Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω health endpoint
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∫–∞ –∫ main_web
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã location –±–ª–æ–∫–∏

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- **RAM:** –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ ~512MB
- **CPU:** –ú–µ–Ω—å—à–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ PostgreSQL
- **–î–∏—Å–∫:** –ï–¥–∏–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
- **–°–µ—Ç—å:** –ú–µ–Ω—å—à–µ —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### –£–ø—Ä–æ—â–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** 1 –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–º–µ—Å—Ç–æ 3
- **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:** –û–¥–∏–Ω PostgreSQL –∏–Ω—Å—Ç–∞–Ω—Å
- **–û—Ç–ª–∞–¥–∫–∞:** –ü—Ä–æ—â–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–ò–∑–æ–ª—è—Ü–∏—è:** –°—Ö–µ–º—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∏–∑–æ–ª—è—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–µ–π —Å—Ö–µ–º–µ
- **–ê—É–¥–∏—Ç:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### ‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã:
```bash
docker-compose ps
# –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Å—Ç–∞—Ç—É—Å–µ "healthy"
```

### ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
docker exec -it stools_postgres psql -U stools_user -d stools_db -c "\dn"
# –°—Ö–µ–º—ã: auth, loganalizer, vulnanalizer, public
```

### ‚úÖ Health endpoint –æ—Ç–≤–µ—á–∞–µ—Ç:
```bash
curl -k https://localhost/health
# {"status":"healthy","service":"main"}
```

### ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã:
- **auth:** users, sessions
- **loganalizer:** 8 —Ç–∞–±–ª–∏—Ü (log_files, log_entries, settings, etc.)
- **vulnanalizer:** 7 —Ç–∞–±–ª–∏—Ü (hosts, cve_data, background_tasks, etc.)

## üéØ –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

### 1. **–°–Ω–∏–∂–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏**
- –£–±—Ä–∞–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –£–ø—Ä–æ—â–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 2. **–ü–æ–≤—ã—à–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**
- –ú–µ–Ω—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ë—ã—Å—Ç—Ä–µ–µ –∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–æ—â–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### 3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**
- –í—Å–µ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 4. **–£–ª—É—á—à–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
- –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Å—Ö–µ–º—ã
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∞—É–¥–∏—Ç–∞

## üîÆ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –î–æ–±–∞–≤–∏—Ç—å Prometheus + Grafana
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (ELK Stack)
- –ê–ª–µ—Ä—Ç—ã –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### 2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
- –†–µ–ø–ª–∏–∫–∏ PostgreSQL –¥–ª—è —á—Ç–µ–Ω–∏—è
- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è Redis

### 3. **CI/CD**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
- Blue-green –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞:
- **–î–æ:** ~2-3 –º–∏–Ω—É—Ç—ã
- **–ü–æ—Å–ª–µ:** ~1-2 –º–∏–Ω—É—Ç—ã
- **–£–ª—É—á—à–µ–Ω–∏–µ:** 40%

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:
- **–î–æ:** ~2GB
- **–ü–æ—Å–ª–µ:** ~1.5GB
- **–≠–∫–æ–Ω–æ–º–∏—è:** 25%

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
- **–î–æ:** 9 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **–ü–æ—Å–ª–µ:** 6 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ:** 33%

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è STools –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!** 

–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–ª–∞ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π, –ø—Ä–æ—Å—Ç–æ–π –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω–æ–π –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –ø—Ä–∏ —ç—Ç–æ–º –≤—Å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. 

### –ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- ‚úÖ **33% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ** –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- ‚úÖ **67% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ** PostgreSQL –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
- ‚úÖ **25% —ç–∫–æ–Ω–æ–º–∏—è** –ø–∞–º—è—Ç–∏
- ‚úÖ **40% —É—Å–∫–æ—Ä–µ–Ω–∏–µ** –∑–∞–ø—É—Å–∫–∞
- ‚úÖ **100% —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üöÄ

